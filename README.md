# 系统性能评价
## 性能指标
### 对`计算机`评价的主要性能指标
- **时钟频率**
- **高速缓存**
- **运算速度**
> 其单位一般用 `MIPS` (百万条指令/秒)和 `MFLOPS` (百万次浮点运算/秒)。
> - `MIPS` 用于描述计算机的定点运算能力; 
> - `MFLOPS` 则用来表示计算机的浮点运算能力
- **运算精度**
> 也就是计算机的处理的二进制位数，例如32位、64位。位数越多性能也就越强。
- **内存的存储容量**
> 内存的容量越大,可存储的数据和程序就越多,从而减少与磁盘信息交换的次数,使运行效率得到提高
- **存储器的存取周期**
> 内存完成一次读(取)或写(存)操作所需的时间称为存储器的存取时间或者访问时间。而连续两次读(或写)所需的最短时间称为存储周期。存储周期越短,表示从内存存取信息的时间越短,系统的性能也就越好。
- **数据处理速率**
- **响应时间**
- **RASIS 特性**
> RASIS 特性是**可靠性**(Reliability)、**可用性**(Availability)、**可维护性**(Serviceability)、**完整性**(Integraity)和**安全性**(Security)五者的统称。
> 
> 可靠性是指计算机系统在规定的工作条件下和规定的工作时间内持续正确运行的概率。可靠性一般是用平均无故障时间(Mean Time To Failure,**MTTF**)或平均故障间隔时间(Mean Time Between Failure,**MTBF**)来衡量。可维护性是指系统发生故障后能尽快修复的能力,一般用平均故障修复时间(Mean Time To Repair,**MTTR**)来表示。取决于维护人员的技术水平和对系统的熟悉程度,同时和系统的可维护性也密切相关。

- **平均故障响应时间**
> 平均故障响应时间(TAT)即从出现故障到该故障得到确认修复前的这段时间。该指标反应的是服务水平。平均故障响应时间越短,对用户系统的影响越小。

- **兼容性**

### 对`网络`评价的主要性能指标
- **带宽**
- **时延**
- **丢包率**
- **吞吐量**

### 对`操作系统`评价的主要性能指标
- **系统的可靠性**
- **系统的吞吐量**
- **系统响应时间**
- **系统资源利用率**
- **系统的可移植性**

### 对`数据库`评价的主要性能指标
数据库和数据库管理系统的性能指标包括以下几个方面:
- **数据库的大小**
- **单个数据库文件的大小**
- **数据库中表的数量**
- **表上所允许的索引数量**
- **数据库所允许的索引数量**
- **最大并发事务处理能力**
- **最大连接数**

### 对`web服务器`评价的主要性能指标

Web 服务器的主要性能指标包括
- **最大并发连接数**
- **响应延迟**
- **吞吐量(每秒处理的请求数)**
- 成功请求数
- 失败请求数
- 每秒点击次数
- 每秒成功点击次数
- 每秒失败点击次数
- 尝试连接数
- 用户连接数

>[!TIP]
>
> 一般常考`计算机`和`web服务器`的性能指标；例如`计算机`的*RASIS*特性和`web服务器`的最大并发连接数、响应延迟、吞吐量等。

## 性能计算

性能指标计算的主要方法有:*定义法*、*公式法*、*程序检测法*、*仪器检测法*。

- 定义法主要根据其定义直接获取其理想数据；

- 公式法则一般适用于根据基本定义所衍生出的复合性能指标的计算；

- 程序检测法和仪器检测法则是通过实际的测试来得到其实际值(由于测试的环境和条件不定,其结果也可能相差比较大)。


## 性能设计

### 阿姆达尔的解决方案

### 负载均衡

当用户发现 Web 站点负载量非常大时,应当考虑使用负载均衡技术来将负载平均分摊到多个内部服务器上。

具体的实现方法有:

- 基于特定服务器软件的负载均衡
> 主要是利用 HTTP 协议的"重定向"功能来实现的，也就是 Location 指令。
- 基于 DNS 的负载均衡
> 在 DNS 服务器中,可以为多个不同的地址配置同一个名字,而最终查询这个名字的客户机将在解析这个名字时得到其中一个地址。
- 反向代理负载均衡
- 基于　NAT (网络地址转换)的负载均衡
> 地址转换可以通过软件方式来实现,也可以通过硬件方式来实现。

## 性能评估

性能评估是对一个系统进行各项检测,并形成一份直观的文档,因此性能评估是通过各项测试来完成的。

### 基准测试程序

**把应用程序中用得最多、最频繁的那部分核心程序作为评价计算机性能的标准程序。称为基准测试程序(benchmark)。**

>[!TIP]
>
> 很常考！！！

常见的基准测试方案有：
- 整数测试程序: Dhrystone
- 浮点测试程序: Linpack
- Whetstone 基准测试程序
- SPEC 基准测试程序
- TPC 基准程序

### Web 服务器的性能评估

在 Web 服务器的测试中,能够反映其性能的主要包括**最大并发连接数**、**响应延迟**和**吞吐量**(每秒处理的请求数)几个参数。

现在常见的 Web 服务器性能评测方法有**基准性能测试**、**压力测试**和**可靠性测试**。

>[!TIP]
>
> 很常考！！！

### 系统监视

系统监视的目标是为了评估系统性能。要监视系统性能,需要收集某个时间段内的 3 种不同类型的性能数据:

1. 常规性能数据

2. 比较基准的性能数据

3. 服务水平报告数据